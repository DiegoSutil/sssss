<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magalu - Produto Usado</title>
    <!-- Carregando Tailwind CSS para estiliza√ß√£o r√°pida e responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Configura√ß√£o de fonte global para Inter (padr√£o Google) */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f8f8;
        }
        /* Cor de fundo prim√°ria do Magalu */
        .magalu-blue {
            background-color: rgb(0, 134, 255);
        }
        /* Cor dos bot√µes de a√ß√£o (verde vibrante, como na imagem) */
        .btn-magalu-green {
            background-color: #55a603; /* Verde Magalu forte */
        }
        .btn-magalu-green:hover {
            background-color: #4a9102; 
        }
        /* Estilos para a modal */
        .modal {
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .modal.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .modal.visible {
            opacity: 1;
            visibility: visible;
        }
        /* Estilo para a cor ativa e miniatura ativa */
        .color-option.active {
            box-shadow: 0 0 0 3px #fff, 0 0 0 5px rgb(0, 134, 255);
        }
        .thumbnail-img.active {
            border-color: rgb(0, 134, 255) !important;
        }
        /* Altura m√≠nima para o conte√∫do principal */
        .min-h-product {
            min-height: 80vh;
        }

        /* Classes para a barra de avalia√ß√£o */
        .rating-bar {
            height: 10px;
            border-radius: 9999px;
            background-color: #e5e7eb; /* gray-200 */
        }
        .rating-fill {
            height: 100%;
            border-radius: 9999px;
            background-color: #2563eb; /* blue-600 */
        }

        /* Estilo para a barra de navega√ß√£o Descri√ß√£o/Reviews */
        .nav-link.active {
            border-bottom: 2px solid rgb(0, 134, 255);
            color: rgb(0, 134, 255);
            font-weight: 600;
        }
    </style>
</head>
<body>

    <!-- Modal de Confirma√ß√£o de A√ß√£o -->
    <div id="purchaseModal" class="modal fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-white p-6 rounded-xl shadow-2xl w-11/12 md:w-1/3 transition-transform transform scale-95 md:scale-100">
            <h3 class="text-xl font-bold mb-4 text-blue-600">üéâ A√ß√£o Conclu√≠da!</h3>
            <p class="text-gray-700 mb-6" id="modalMessage">Seu item foi adicionado ao carrinho (simula√ß√£o). Por favor, prossiga para o checkout!</p>
            <button onclick="closeModal()" class="w-full bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 transition duration-150">Continuar Navegando</button>
        </div>
    </div>

    <header class="magalu-blue pt-3 pb-2 shadow-md hidden md:block">
        <!-- Menu Topo (Simplificado, mantendo o padr√£o Magalu) -->
        <div class="max-w-7xl mx-auto flex justify-between items-center px-4 pb-2">
            <!-- √çcone Menu -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white cursor-pointer"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            
            <!-- Logo Magalu -->
            <img src="https://omnilogic.com.br/midia/logos/23.png" alt="Logo Magalu" class="h-6">
            
            <!-- √çcone Sacola -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white cursor-pointer"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
        </div>
        <!-- Barra de Busca -->
        <div class="max-w-7xl mx-auto px-4 pb-3">
            <input type="text" id="txtBusca" placeholder="Procure no Magalu" class="w-full h-10 p-3 text-base border-0 rounded-lg shadow-inner text-gray-700 focus:ring-2 focus:ring-blue-400 focus:outline-none"/>
        </div>
    </header>
    
    <!-- Conte√∫do Principal - Grid Responsivo (Centro) -->
    <main class="max-w-7xl mx-auto p-4 md:pt-8 pb-20 bg-white">
        
        <!-- Breadcrumb e Informa√ß√µes do Vendedor/Influencer (topo) -->
        <div class="mb-6 flex flex-col md:flex-row justify-between items-start md:items-center border-b border-gray-100 pb-4">
             <!-- Perfil do Vendedor/Influencer -->
            <div class="flex items-center space-x-3 mb-4 md:mb-0">
                <div class="h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center border border-blue-300">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                </div>
                <div>
                    <p class="text-sm font-semibold text-gray-800">Luvendasonline</p>
                    <p class="text-xs text-gray-500">Influenciador Magalu</p>
                </div>
            </div>

            <!-- Breadcrumb simplificado -->
            <p class="text-xs text-gray-500 hidden md:block">
                <a href="#" class="hover:underline">Home</a> &gt; <a href="#" class="hover:underline">Celulares</a> &gt; <a href="#" class="hover:underline">iPhone</a> &gt; ...
            </p>
        </div>

        <!-- Layout Principal: Imagem (Left) | Compra (Right) -->
        <div class="grid md:grid-cols-3 lg:grid-cols-12 md:gap-8 min-h-product">
            
            <!-- COLUNA DA ESQUERDA: GALERIA E IMAGEM (COLSPAN 8 - desktop) -->
            <div class="md:col-span-2 lg:col-span-8 flex flex-col md:flex-row gap-4">
                
                <!-- Miniaturas (Vertical em Desktop, Scroll Horizontal em Mobile) -->
                <div class="flex flex-row md:flex-col gap-3 overflow-x-auto md:overflow-visible p-2 md:p-0 order-2 md:order-1">
                    <!-- Miniaturas: Use o data-full-src para a troca de imagem -->
                    <img src="https://imgs.casasbahia.com.br/55014771/1xg.jpg" data-full-src="https://imgs.casasbahia.com.br/55014771/1xg.jpg" alt="Miniatura 1" class="thumbnail-img h-16 w-16 object-cover rounded-lg border-2 border-gray-200 active cursor-pointer hover:border-blue-400 transition" onclick="changeImage(this)">
                    <img src="https://placehold.co/64x64/CCCCCC/333?text=√Çngulo+2" data-full-src="https://placehold.co/400x400/CCCCCC/333?text=iPhone+11+√Çngulo+2" alt="Miniatura 2" class="thumbnail-img h-16 w-16 object-cover rounded-lg border-2 border-gray-200 cursor-pointer hover:border-blue-400 transition" onclick="changeImage(this)">
                    <img src="https://placehold.co/64x64/AAAAAA/333?text=Caixa" data-full-src="https://placehold.co/400x400/AAAAAA/333?text=iPhone+11+Caixa" alt="Miniatura 3" class="thumbnail-img h-16 w-16 object-cover rounded-lg border-2 border-gray-200 cursor-pointer hover:border-blue-400 transition" onclick="changeImage(this)">
                </div>
                
                <!-- Imagem Principal -->
                <div class="flex-grow flex justify-center items-start order-1 md:order-2">
                    <img id="mainImage" 
                         src="https://imgs.casasbahia.com.br/55014771/1xg.jpg" 
                         onerror="this.onerror=null;this.src='https://placehold.co/400x400/F0F0F0/333?text=iPhone+11+Branco';" 
                         alt="iPhone 11 Apple 128GB - Branco" 
                         class="max-h-[450px] object-contain w-full rounded-xl transition-opacity duration-300">
                </div>
            </div>

            <!-- COLUNA DA DIREITA: BOX DE COMPRA (COLSPAN 4 - desktop) -->
            <div class="md:col-span-1 lg:col-span-4 mt-8 md:mt-0 lg:ml-8 purchase-box">
                
                <!-- T√≠tulo e C√≥digo -->
                <div class="mb-4">
                    <h1 id="productTitle" class="text-xl lg:text-2xl font-semibold text-gray-900 leading-snug">
                        Usado: iPhone 11 64GB Branco Bom - bateria 70% - Trocafy - Apple
                    </h1>
                    <p class="text-xs text-gray-500 mt-1">
                        C√≥digo dH5skrGq5qi | <a href="#" class="text-blue-600 hover:underline">Ver descri√ß√£o completa</a> | <span class="font-bold">APPLE</span>
                    </p>
                </div>
                
                <!-- Avalia√ß√£o Simples (No topo da coluna de compra) -->
                <div class="flex items-center gap-1.5 mt-2 pb-3 border-b border-gray-100">
                    <div class="flex text-yellow-500 text-sm">
                        <span class="text-lg">‚òÖ</span>
                        <span class="text-lg">‚òÖ</span>
                        <span class="text-lg">‚òÖ</span>
                        <span class="text-lg">‚òÖ</span>
                        <span class="text-lg">‚òÖ</span>
                    </div>
                    <p class="text-sm font-medium text-gray-500">4.6 (46)</p>
                </div>

                <!-- Informa√ß√µes de Venda e Pre√ßo -->
                <div class="mt-4">
                    <!-- Vendedor -->
                    <p class="text-sm text-gray-600">Vendido por: <span class="font-semibold text-gray-800">Trocafy</span></p>
                    <p class="text-sm text-gray-600">Entregue por: <span class="font-semibold text-blue-600 hover:underline">Magalu</span></p>

                    <!-- Pre√ßo Riscado (Pre√ßo original) -->
                    <p class="text-sm text-gray-500 line-through mt-4">R$ 1.560,90</p>
                    
                    <!-- Pre√ßo Parcelado e Destaque Pix -->
                    <p class="text-base font-semibold text-gray-700">10x de R$ 131,47 sem juros</p>
                    <h3 class="text-3xl font-extrabold text-gray-900 mt-1">
                        ou R$ 1.156,92 <span class="text-xl font-normal">no Pix</span>
                    </h3>
                    <p class="text-sm font-semibold text-green-600">(12% de desconto no pix)</p>

                    <!-- Cart√£o de Cr√©dito (Caixa de Informa√ß√£o) -->
                    <div class="mt-4 p-3 bg-gray-50 rounded-lg border border-gray-200 text-sm">
                        <div class="flex justify-between items-center text-gray-700">
                            <span class="font-semibold">Cart√£o de cr√©dito</span>
                            <span class="font-bold">R$ 1.314,68</span>
                        </div>
                        <div class="flex justify-between items-center text-gray-500">
                            <span class="text-xs">sem juros</span>
                            <span class="text-xs">10x R$ 131,47</span>
                        </div>
                    </div>
                </div>

                <!-- Bot√µes de A√ß√£o (Verdes) -->
                <div class="mt-6 space-y-3">
                    <button id="buyButton" data-action="Comprar agora" class="w-full btn-magalu-green text-white font-extrabold text-lg py-3 rounded-xl shadow-md transition duration-200 uppercase flex items-center justify-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line></svg>
                        COMPRAR AGORA
                    </button>
                    <button id="addToCartButton" data-action="Adicionar ao carrinho" class="w-full bg-white text-green-600 border-2 border-green-600 font-extrabold text-lg py-3 rounded-xl hover:bg-green-50 transition duration-200 uppercase flex items-center justify-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-600"><path d="M16 10a4 4 0 0 1-8 0"></path><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line></svg>
                        ADICIONAR √Ä SACOLA
                    </button>
                </div>
                
                <!-- Calcular Frete -->
                <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm border border-gray-200">
                    <div class="flex items-center justify-between text-gray-700 font-semibold mb-2">
                        <span class="flex items-center gap-1">
                             <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600"><path d="M12 22s-8-4.5-8-11.8A8 8 0 0 1 12 2a8 8 0 0 1 8 8.2c0 7.3-8 11.8-8 11.8z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                            Calcular frete e prazo
                        </span>
                        <a href="#" class="text-blue-600 hover:underline font-normal">Ativar localiza√ß√£o</a>
                    </div>
                    <div class="flex gap-2">
                        <input type="text" placeholder="Digite seu CEP" class="w-full p-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500" maxlength="8">
                        <button class="bg-blue-600 text-white font-semibold px-4 rounded-lg hover:bg-blue-700 transition duration-150">OK</button>
                    </div>
                </div>

                <!-- Sele√ß√£o de Cores (Variantes) -->
                <div class="px-0 mt-8 pt-4 border-t border-gray-100">
                    <p class="text-sm font-medium text-gray-700 mb-2">Cor: <span id="selectedColorName" class="font-bold text-blue-600">Branco</span></p>
                    <div class="flex gap-4">
                        <!-- Op√ß√£o BRANCO -->
                        <div class="color-option active h-8 w-8 rounded-full border-4 border-white cursor-pointer transition shadow-md" style="background-color: white; border-color: #f5f5f5;" data-color="Branco" data-image="https://imgs.casasbahia.com.br/55014771/1xg.jpg" onclick="selectColor(this)"></div>
                        <!-- Op√ß√£o PRETO -->
                        <div class="color-option h-8 w-8 rounded-full border-4 border-white cursor-pointer transition shadow-md" style="background-color: black; border-color: #f5f5f5;" data-color="Preto" data-image="https://placehold.co/400x400/000000/FFFFFF?text=iPhone+11+Preto" onclick="selectColor(this)"></div>
                        <!-- Op√ß√£o VERMELHO -->
                        <div class="color-option h-8 w-8 rounded-full border-4 border-white cursor-pointer transition shadow-md" style="background-color: #DC2626; border-color: #f5f5f5;" data-color="Vermelho" data-image="https://placehold.co/400x400/DC2626/FFFFFF?text=iPhone+11+Vermelho" onclick="selectColor(this)"></div>
                    </div>
                </div>
            </div>
            
            <!-- SE√á√ÉO DE DETALHES E AVALIA√á√ïES (Abaixo das colunas, em full-width) -->
            <div class="lg:col-span-12 mt-12">
                <!-- Barra de Navega√ß√£o Descri√ß√£o / Avalia√ß√µes -->
                <div class="flex border-b border-gray-200 text-gray-500 text-base">
                    <button id="navDescription" onclick="showSection('description')" class="nav-link active py-3 px-6 hover:text-blue-600 transition duration-150">Descri√ß√£o Completa</button>
                    <button id="navReviews" onclick="showSection('reviews')" class="nav-link py-3 px-6 hover:text-blue-600 transition duration-150">Avalia√ß√£o dos Clientes</button>
                </div>

                <!-- 1. CONTE√öDO DA DESCRI√á√ÉO -->
                <div id="descriptionContent" class="p-6 bg-white border border-t-0 border-gray-200 rounded-b-lg">
                    <h2 class="text-gray-700 font-bold text-xl mb-4">Informa√ß√µes do Produto</h2>
                    <p class="text-sm font-semibold text-gray-800 mb-1">Usado: iPhone 11 64GB Branco Bom - bateria 70% - Trocafy - Apple</p>
                    <p class="text-xs text-gray-500 mb-4">Celular Seminovo Trocafy</p>

                    <p class="text-gray-700 mb-6 text-sm leading-relaxed">A Trocafy √© especializada na venda de celulares Recondicionados (Seminovos). Aqui todos os aparelhos passam por revis√£o minuciosa de t√©cnicos especializados e certificados pelos fabricantes para reparo.</p>

                    <h3 class="text-base font-bold text-gray-800 mb-3">Condi√ß√µes:</h3>
                    
                    <div class="space-y-4 text-sm text-gray-700">
                        <div>
                            <p class="font-bold">Excelente:</p>
                            <p>Aparelhos com pouqu√≠ssimos sinais de uso, risco e/ou arranh√µes quase impercept√≠veis tanto na tela quanto na tampa traseira.</p>
                        </div>
                        <div>
                            <p class="font-bold">Muito Bom:</p>
                            <p>Aparelho com alguns sinais de uso como arranh√µes, riscos e/ou amassados na lateral percept√≠veis, por√©m leves, tanto na tela quanto tampa traseira.</p>
                        </div>
                        <div>
                            <p class="font-bold">Bom (Este Produto):</p>
                            <p>Aparelhos com sinais de uso n√≠tidos/vis√≠veis tanto na tela quanto na tampa traseira como por exemplo: riscos, arranh√µes, pequenos amassados e manchas na tela.</p>
                        </div>
                        <div>
                            <p class="font-bold">Bom Bateria 70%:</p>
                            <p>Aparelhos com sinais de uso n√≠tidos/vis√≠veis tanto na tela quanto na tampa traseira como por exemplo: riscos, arranh√µes, pequenos amassados e manchas na tela. M√≠nimo da bateria √© 70%.</p>
                        </div>
                    </div>
                    
                    <h3 class="text-base font-bold text-gray-800 mt-6 mb-3 border-t pt-4">IMPORTANTE:</h3>
                    <ul class="list-disc pl-5 text-sm text-gray-700 space-y-2">
                        <li>Trabalhamos apenas com PE√áAS ORIGINAIS. N√£o utilizamos pe√ßas alternativas ou paralelas.</li>
                        <li>Aparelhos DESBLOQUEADOS para todas as operadoras e homologados pela ANATEL.</li>
                    </ul>
                </div>

                <!-- 2. CONTE√öDO DAS AVALIA√á√ïES (Inicialmente Oculto) -->
                <div id="reviewsContent" class="p-6 bg-white border border-t-0 border-gray-200 rounded-b-lg hidden">
                    <h2 class="text-gray-700 font-bold text-xl mb-4">Avalia√ß√£o dos Clientes</h2>

                    <div class="grid md:grid-cols-3 gap-8">
                        <!-- Classifica√ß√£o em Estrelas -->
                        <div>
                            <p class="text-4xl font-extrabold text-gray-900 mb-1 flex items-baseline">
                                4.6 
                                <span class="text-yellow-500 ml-2">‚òÖ</span>
                            </p>
                            <p class="text-sm text-gray-600">46 avalia√ß√µes</p>
                            <p class="text-sm text-gray-600">24 coment√°rios</p>

                            <div class="mt-6 space-y-2">
                                <!-- Barra 5 Estrelas (Exemplo: 34/46 = 73.9%) -->
                                <div class="flex items-center gap-3">
                                    <span class="text-sm text-gray-600 w-8">5‚òÖ</span>
                                    <div class="rating-bar w-full">
                                        <div class="rating-fill" style="width: 74%;"></div>
                                    </div>
                                    <span class="text-sm text-gray-600 w-6 text-right">34</span>
                                </div>
                                <!-- Barra 4 Estrelas (Exemplo: 5/46 = 10.8%) -->
                                <div class="flex items-center gap-3">
                                    <span class="text-sm text-gray-600 w-8">4‚òÖ</span>
                                    <div class="rating-bar w-full">
                                        <div class="rating-fill" style="width: 11%;"></div>
                                    </div>
                                    <span class="text-sm text-gray-600 w-6 text-right">5</span>
                                </div>
                                <!-- Barra 3 Estrelas (Exemplo: 6/46 = 13.0%) -->
                                <div class="flex items-center gap-3">
                                    <span class="text-sm text-gray-600 w-8">3‚òÖ</span>
                                    <div class="rating-bar w-full">
                                        <div class="rating-fill" style="width: 13%;"></div>
                                    </div>
                                    <span class="text-sm text-gray-600 w-6 text-right">6</span>
                                </div>
                                <!-- Barra 2 Estrelas (Exemplo: 1/46 = 2.1%) -->
                                <div class="flex items-center gap-3">
                                    <span class="text-sm text-gray-600 w-8">2‚òÖ</span>
                                    <div class="rating-bar w-full">
                                        <div class="rating-fill" style="width: 2%;"></div>
                                    </div>
                                    <span class="text-sm text-gray-600 w-6 text-right">1</span>
                                </div>
                                <!-- Barra 1 Estrela (Exemplo: 0/46 = 0%) -->
                                <div class="flex items-center gap-3">
                                    <span class="text-sm text-gray-600 w-8">1‚òÖ</span>
                                    <div class="rating-bar w-full">
                                        <div class="rating-fill" style="width: 0%;"></div>
                                    </div>
                                    <span class="text-sm text-gray-600 w-6 text-right">0</span>
                                </div>
                            </div>
                        </div>

                        <!-- Lista de Coment√°rios -->
                        <div class="md:col-span-2 space-y-6">
                            <!-- Coment√°rio 1 -->
                            <div class="border-b pb-4">
                                <p class="font-bold text-gray-800 text-sm flex items-center">
                                    Kelly <span class="text-yellow-500 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                </p>
                                <p class="text-gray-700 mt-1 text-sm">Muito bom</p>
                                <p class="text-xs text-gray-500 mt-1">h√° 3 meses</p>
                            </div>
                            <!-- Coment√°rio 2 (Negativo - 2 estrelas) -->
                            <div class="border-b pb-4">
                                <p class="font-bold text-gray-800 text-sm flex items-center">
                                    Vivian <span class="text-yellow-500 ml-2">‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ</span>
                                </p>
                                <p class="text-gray-700 mt-1 text-sm">Decepcionada com o produto, ele liga e desliga toda hora</p>
                                <p class="text-xs text-gray-500 mt-1">h√° 3 meses</p>
                            </div>
                            <!-- Coment√°rio 3 -->
                            <div class="border-b pb-4">
                                <p class="font-bold text-gray-800 text-sm flex items-center">
                                    Vitor <span class="text-yellow-500 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                                </p>
                                <p class="text-gray-700 mt-1 text-sm">Celular veio top por√©m nao vem carregador nem acess√≥rio pelo valor ao menos o carregador tinha q vir</p>
                                <p class="text-xs text-gray-500 mt-1">h√° 3 meses</p>
                            </div>
                            <!-- Coment√°rio 4 -->
                            <div class="border-b pb-4">
                                <p class="font-bold text-gray-800 text-sm flex items-center">
                                    Izaiza <span class="text-yellow-500 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                                </p>
                                <p class="text-gray-700 mt-1 text-sm">Gostei, bonito, veio sem nenhum arranh√£o, bateria 71% vamos ver agora</p>
                                <p class="text-xs text-gray-500 mt-1">h√° 3 meses</p>
                            </div>

                             <button class="w-full bg-gray-100 text-gray-700 font-semibold py-2 px-4 rounded-lg text-sm hover:bg-gray-200 transition">Ver todos os 24 coment√°rios</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- BARRA DE A√á√ÉO FIXA (Mobile Only) -->
    <div class="fixed bottom-0 left-0 right-0 p-3 bg-white border-t border-gray-200 shadow-2xl md:hidden z-40">
        <div class="flex justify-between items-center gap-3">
            <div>
                <p class="text-lg font-bold text-gray-800 leading-none">R$ 1.156,92</p>
                <p class="text-xs text-gray-500 line-through">R$ 1.560,90</p>
            </div>
            <button id="mobileBuyButton" data-action="Comprar agora" class="w-2/3 btn-magalu-green text-white font-extrabold text-lg py-3 rounded-xl shadow-md transition duration-200 uppercase">
                COMPRAR AGORA
            </button>
        </div>
    </div>

    <script>
        // Objeto de variantes para controle
        const productVariants = {
            'Branco': {
                baseTitle: 'Usado: iPhone 11 64GB Bom - bateria 70% - Trocafy',
                image: 'https://imgs.casasbahia.com.br/55014771/1xg.jpg'
            },
            'Preto': {
                baseTitle: 'Usado: iPhone 11 64GB Bom - bateria 70% - Trocafy',
                image: 'https://placehold.co/400x400/000000/FFFFFF?text=iPhone+11+Preto'
            },
            'Vermelho': {
                baseTitle: 'Usado: iPhone 11 64GB Bom - bateria 70% - Trocafy',
                image: 'https://placehold.co/400x400/DC2626/FFFFFF?text=iPhone+11+Vermelho'
            }
        };

        let currentColor = 'Branco';
        
        // --- Fun√ß√µes de Componentes ---

        // Fun√ß√£o para mostrar a se√ß√£o correta (Descri√ß√£o ou Reviews)
        function showSection(sectionId) {
            const descriptionContent = document.getElementById('descriptionContent');
            const reviewsContent = document.getElementById('reviewsContent');
            const navDescription = document.getElementById('navDescription');
            const navReviews = document.getElementById('navReviews');

            if (sectionId === 'description') {
                descriptionContent.classList.remove('hidden');
                reviewsContent.classList.add('hidden');
                navDescription.classList.add('active');
                navReviews.classList.remove('active');
            } else if (sectionId === 'reviews') {
                descriptionContent.classList.add('hidden');
                reviewsContent.classList.remove('hidden');
                navDescription.classList.remove('active');
                navReviews.classList.add('active');
            }
        }

        // Fun√ß√£o para trocar a imagem principal (Galeria Vertical)
        function changeImage(element) {
            const mainImage = document.getElementById('mainImage');
            const newSrc = element.getAttribute('data-full-src');

            // 1. Remove a classe 'active' de todas as miniaturas
            document.querySelectorAll('.thumbnail-img').forEach(img => img.classList.remove('active'));
            // 2. Adiciona no clicado
            element.classList.add('active');

            // 3. Troca a imagem
            mainImage.src = newSrc;
        }

        // Fun√ß√£o para selecionar a cor do produto (Variantes)
        function selectColor(element) {
            const color = element.getAttribute('data-color');
            const newImageSrc = element.getAttribute('data-image');
            const productTitle = document.getElementById('productTitle');
            const selectedColorName = document.getElementById('selectedColorName');
            const mainImage = document.getElementById('mainImage');

            // 1. Atualiza a cor ativa
            document.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('active'));
            element.classList.add('active');
            
            // 2. Atualiza o estado global e elementos de texto
            currentColor = color;
            selectedColorName.textContent = color;
            productTitle.textContent = `${productVariants[color].baseTitle} - ${color} - Apple`;

            // 3. Troca a imagem principal
            mainImage.src = newImageSrc;
            
            // 4. Resetar miniaturas para o estado inicial da nova cor (apenas a primeira ativa)
            document.querySelectorAll('.thumbnail-img').forEach((img, index) => {
                img.classList.remove('active');
                if (index === 0) {
                    img.classList.add('active');
                    // Atualiza a primeira miniatura para mostrar a imagem da cor selecionada
                    img.setAttribute('data-full-src', newImageSrc);
                    img.src = newImageSrc; 
                }
            });
        }
        
        // Fun√ß√£o para mostrar a modal (compra/carrinho)
        function showModal(event) {
            const modal = document.getElementById('purchaseModal');
            const modalMessage = document.getElementById('modalMessage');
            const action = event.currentTarget.getAttribute('data-action');
            const title = document.getElementById('productTitle').textContent;


            // Constr√≥i a mensagem da modal com base na a√ß√£o, cor e quantidade
            if (action.includes("Comprar")) {
                modalMessage.innerHTML = `Voc√™ iniciou a compra do produto: <span class="font-bold">${title}</span>. Prossiga para o checkout!`;
            } else {
                modalMessage.innerHTML = `O produto: <span class="font-bold">${title}</span> foi adicionado √† sua sacola.`;
            }
            
            modal.classList.remove('hidden');
            modal.classList.add('visible');
        }

        // Fun√ß√£o para fechar a modal
        function closeModal() {
            const modal = document.getElementById('purchaseModal');
            modal.classList.remove('visible');
            modal.classList.add('hidden');
        }

        // Adiciona os listeners de clique aos bot√µes e inicializa
        document.addEventListener('DOMContentLoaded', () => {
            const buyButton = document.getElementById('buyButton');
            const addToCartButton = document.getElementById('addToCartButton');
            const mobileBuyButton = document.getElementById('mobileBuyButton');

            // Botoes Coluna Direita (Desktop)
            if (buyButton) { buyButton.addEventListener('click', showModal); }
            if (addToCartButton) { addToCartButton.addEventListener('click', showModal); }

            // Botao Fixo Mobile
            if (mobileBuyButton) { mobileBuyButton.addEventListener('click', showModal); }

            // Inicializa a primeira miniatura como ativa
            const firstThumbnail = document.querySelector('.thumbnail-img');
            if(firstThumbnail) {
                firstThumbnail.classList.add('active');
            }
            
            // Garante que a se√ß√£o de descri√ß√£o comece ativa
            showSection('description');
        });
    </script>
</body>
</html>
